# 动态代理IP池

通过定时抓取[西刺代理](http://www.xicidaili.com/)的代理IP数据，并定时验证IP有效性来实现一个动态代理IP池

## 架构
> 整个工程分三个部分
1. 爬虫部分，负责从目标网站获取原始代理IP数据，同步更新原始代理IP数据库
2. 验证部分，通过定时任务，定时对原始代理IP数据进行有效性校验，校验结果分三类：优质IP、普通IP、无效IP。其中优质IP、普通IP存入有效代理IP库，并从源库中删除，无效代理IP库不删除，但会被标记出来，后面将不再验证(主要用于爬虫新取得的数据中已验证无效部分不再重新验证，原则是宁缺毋滥)。有效代理IP库也会被定时任务定时验证，无效的直接清除掉。
3. 数据接口，提供一组有效代理IP查询接口

## 接口设计
- /random
> 随机返回一个代理IP，允许传入一个参数flag=True，表示只查询优质代理IP，False为查询普通代理IP，不传参数则查询全部
- /all?page=1
> 查询全部代理IP，需指定页码，每页返回10条数据，同样接收flag参数，意义与上相同